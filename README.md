# Instabug Backend Challenge 2022 

## To run the code  

``` 
docker-compose up --build
```

## Assumptions and notes: 

- The application is containerized using **docker**. 
- **Redis**:
    - To get number of chats from a certain application, increment it, and assigned it to a newly created chat 
    - To get number of messages from a certain chat, increment it, and assigned it to a newly created message 
    
  **using ` incr ` command from redis.**
 - **Rabbitmq & Sneakers**: 
   - To have a queue for inserting the messages and chats requests into the database.
- **Rufus scheduler**:
    - To update `chat_count` and `message_count` every `20 mins`
## Race condition:
So since that `message_number` and `chat_number` are generated by the system, to handle race condition I used ` incr ` command from redis ` as it is an atomic function thus only one instance can access it at a time. 
